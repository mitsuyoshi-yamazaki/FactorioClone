# タスク完了時のワークフロー

## 変更完了後に必ず実行すること

### 1. 品質チェック
- `yarn type-check`: TypeScriptの型チェック
- `yarn lint`: ESLintによるコード品質チェック
- `yarn test`: 関連するテストの実行

### 2. コミットワークフロー（重要）

**ユーザー指示を受けてファイルを変更した場合、以下を必ず実行:**

1. 変更をgit addしてコミット
   - コミットメッセージに「🤖 Generated with [Claude Code]」を含める
   
2. **AIによるコミットの場合のみ**以下を実行：
   - `git rev-parse HEAD` でコミットハッシュを取得
   - `docs/commit-notes/<コミットハッシュ>.md`ファイルを作成
     - 内容：そのコミットを生み出したユーザープロンプト（指示）を記載
   - 「<コミットハッシュ>のコミットノートを作成」メッセージでコミット

### 3. テスト実行
必要に応じて以下を実行：
- `yarn test:unit`: ユニットテスト
- `yarn test:integration`: 統合テスト  
- `yarn test:e2e`: E2Eテスト

## 開発指針
- Factorioのゲームプレイ要素を参考にした機能実装
- シングルプレイに焦点を当てた設計
- ECSアーキテクチャの活用